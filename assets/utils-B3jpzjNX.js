(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();function l(r){const e=localStorage.getItem(r);return e?JSON.parse(e):null}function s(r,e,n,a){e.innerHTML=r}async function i(r){try{const e=await fetch(r);return e.ok?await e.text():(console.error(`Failed to load template: ${r}`,e.status),"")}catch(e){return console.error(`Error fetching template: ${r}`,e),""}}async function u(){const r=document.getElementById("main-header"),e=document.getElementById("main-footer");if(r){const n=await i("../partials/header.html");s(n,r);const a=r.querySelector("#cart-count"),t=l("so-cart")||[];a&&(a.textContent=t.length)}if(e){const n=await i("../partials/footer.html");s(n,e)}}function f(r){const e=window.location.search;return new URLSearchParams(e).get(r)}export{l as a,f as g,u as l};
